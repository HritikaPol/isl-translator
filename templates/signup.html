<!DOCTYPE html>
<html>
<head>
    <title>Create Account - ISL Translator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(120deg, #4e54c8, #8f94fb);
            min-height: 100vh;
            color: white;
        }

        .signup-card {
            background: white;
            color: black;
            border-radius: 18px;
            padding: 30px;
            box-shadow: 0 12px 30px rgba(0,0,0,0.25);
        }

        .eye-btn {
            position:absolute;
            right:10px;
            top:50%;
            transform:translateY(-50%);
            border:none;
            background:none;
            cursor:pointer;
        }

        .rule { font-size:14px; }
    </style>
</head>

<body>

<div class="container py-5">
    <div class="row align-items-center">

        <div class="col-lg-7">
            <h1>Join the ISL Translator Platform</h1>
            <p>Secure multilingual accessibility platform.</p>
        </div>

        <div class="col-lg-5">
            <div class="signup-card">
                <h4 class="text-center mb-3">Create Account</h4>

                <form method="POST">

                    <input class="form-control mb-3"
                           name="username"
                           placeholder="Username"
                           required>

                    <!-- PASSWORD FIELD -->
                    <div class="mb-3 position-relative">
                        <input id="password"
                               class="form-control pe-5"
                               type="password"
                               name="password"
                               placeholder="Create strong password"
                               required>

                        <button type="button"
                                class="eye-btn"
                                onclick="togglePassword(this,'password')">
                            <span class="eye-open">üëÅ</span>
                            <span class="eye-closed d-none">üôà</span>
                        </button>
                    </div>

                    <!-- LIVE CHECKLIST -->
                    <ul class="mt-3" style="list-style:none;padding:0;">
                        <li id="rule-length" class="rule text-danger">‚ùå Minimum 8 characters</li>
                        <li id="rule-letters" class="rule text-danger">‚ùå At least 4 letters</li>
                        <li id="rule-numbers" class="rule text-danger">‚ùå At least 3 numbers</li>
                        <li id="rule-special" class="rule text-danger">‚ùå At least 1 special character</li>
                    </ul>

                    <button class="btn btn-dark w-100 mt-3">Sign Up</button>
                </form>

                <p class="text-center mt-3">
                    Already have an account? <a href="/login">Login</a>
                </p>
            </div>
        </div>

    </div>
</div>

<script>

// Password visibility toggle
function togglePassword(btn,id){
    const pw=document.getElementById(id);
    const open=btn.querySelector(".eye-open");
    const closed=btn.querySelector(".eye-closed");

    if(pw.type==="password"){
        pw.type="text";
        open.classList.add("d-none");
        closed.classList.remove("d-none");
    }else{
        pw.type="password";
        open.classList.remove("d-none");
        closed.classList.add("d-none");
    }
}

// Password validation logic
document.addEventListener("DOMContentLoaded", function(){

    const passwordInput = document.getElementById("password");

    const ruleLength = document.getElementById("rule-length");
    const ruleLetters = document.getElementById("rule-letters");
    const ruleNumbers = document.getElementById("rule-numbers");
    const ruleSpecial = document.getElementById("rule-special");

    function update(el, ok, message){
        el.className = "rule " + (ok ? "text-success" : "text-danger");
        el.innerText = (ok ? "‚úî " : "‚ùå ") + message;
    }

    passwordInput.addEventListener("input", function(){

        const value = this.value;

        const letters = (value.match(/[A-Za-z]/g) || []).length;
        const numbers = (value.match(/[0-9]/g) || []).length;
        const special = (value.match(/[!@#$%^&*]/g) || []).length;

        update(ruleLength, value.length >= 8, "Minimum 8 characters");
        update(ruleLetters, letters >= 4, "At least 4 letters");
        update(ruleNumbers, numbers >= 3, "At least 3 numbers");
        update(ruleSpecial, special >= 1, "At least 1 special character");

    });

});
</script>

</body>
</html>